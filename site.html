<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Valhesia ‚Äî Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Inter', sans-serif;
}

body{
    background:#000;
    color:#eaeaea;
}

/* HEADER */
header{
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
}

header h1{
    font-size:clamp(3rem,6vw,6rem);
    letter-spacing:6px;
    font-weight:900;
}

header p{
    margin-top:20px;
    opacity:.8;
}

/* LOGIN BUTTON */
#loginBtn{
    position:fixed;
    top:20px;
    right:20px;
    padding:10px 22px;
    border-radius:30px;
    border:none;
    font-weight:800;
    cursor:pointer;
    z-index:1000;
}

/* SECTIONS */
section{
    max-width:1100px;
    margin:auto;
    padding:120px 30px;
}

h2{
    font-size:2.4rem;
    margin-bottom:30px;
}

/* VAGAS */
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:30px;
}

.card{
    background:rgba(255,255,255,.05);
    border:1px solid rgba(255,255,255,.1);
    border-radius:20px;
    padding:30px;
}

.card a{
    display:inline-block;
    margin-top:20px;
    padding:12px 30px;
    border-radius:30px;
    background:#fff;
    color:#000;
    text-decoration:none;
    font-weight:800;
}

.closed{
    opacity:.6;
    font-style:italic;
}

/* AN√öNCIOS */
.announcement{
    position:relative;
    background:rgba(255,255,255,.06);
    border-radius:20px;
    padding:30px;
    margin-bottom:30px;
}

.announcement h3{
    margin-bottom:10px;
}

.announcement img{
    max-width:100%;
    border-radius:15px;
    margin-top:15px;
}

/* LIXEIRA */
.delete-btn{
    position:absolute;
    top:15px;
    right:15px;
    background:rgba(255,0,0,.15);
    border:none;
    color:#ff6b6b;
    font-size:18px;
    width:36px;
    height:36px;
    border-radius:50%;
    cursor:pointer;
    display:none;
}

.delete-btn:hover{
    background:rgba(255,0,0,.35);
}

/* LOGIN MODAL */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:2000;
}

.modal-content{
    background:#111;
    padding:30px;
    border-radius:20px;
    width:100%;
    max-width:400px;
}

.modal-content input, textarea{
    width:100%;
    margin-bottom:15px;
    padding:12px;
    border-radius:10px;
    border:none;
}

.modal-content button{
    width:100%;
    padding:12px;
    border-radius:30px;
    border:none;
    font-weight:800;
    cursor:pointer;
}

/* ADMIN PANEL */
#adminArea{
    position:fixed;
    top:90px;
    right:20px;
    width:320px;
    max-height:80vh;
    overflow-y:auto;
    background:rgba(10,10,10,0.95);
    border:1px solid rgba(255,255,255,0.12);
    border-radius:20px;
    padding:20px;
    box-shadow:0 0 30px rgba(0,0,0,0.6);
    z-index:1500;
    display:none;
}

.admin-panel{
    background:rgba(255,255,255,.05);
    border-radius:15px;
    padding:15px;
    margin-bottom:20px;
}

.admin-panel h3{
    font-size:1rem;
    margin-bottom:10px;
}
</style>
</head>

<body>

<button id="loginBtn">Logar</button>

<header>
    <div>
        <h1>VALHESIA</h1>
        <p>Um mundo onde decis√µes moldam destinos.</p>
    </div>
</header>

<section>
    <h2>üì¢ An√∫ncios</h2>
    <div id="announcements"></div>
</section>

<section>
    <h2>üåê Portal de Vagas</h2>
    <div class="grid">
        <div class="card" id="vagaAdm"></div>
        <div class="card" id="vagaPlayer"></div>
    </div>
</section>

<!-- PAINEL ADM -->
<section id="adminArea">
    <h2>üîê Painel ADM</h2>

    <div class="admin-panel">
        <h3>Vagas</h3>
        <label><input type="checkbox" id="toggleAdm"> ADM ativa</label><br><br>
        <label><input type="checkbox" id="togglePlayer"> Player ativa</label>
    </div>

    <div class="admin-panel">
        <h3>Novo An√∫ncio</h3>
        <input id="aTitle" placeholder="T√≠tulo">
        <textarea id="aText" placeholder="Mensagem"></textarea>
        <input id="aImg" placeholder="URL da imagem (Imgur)">
        <button onclick="addAnnouncement()">Publicar</button>
    </div>
</section>

<!-- LOGIN -->
<div class="modal" id="loginModal">
    <div class="modal-content">
        <h3>Login ADM</h3><br>
        <input id="user" placeholder="Usu√°rio">
        <input id="pass" type="password" placeholder="Senha">
        <button onclick="login()">Entrar</button>
    </div>
</div>

<script>
const ADMIN_USER = "floors";
const ADMIN_PASS = "c042060";

let isAdmin = false;

const loginBtn = document.getElementById("loginBtn");
const loginModal = document.getElementById("loginModal");
const adminArea = document.getElementById("adminArea");

const vagaAdm = document.getElementById("vagaAdm");
const vagaPlayer = document.getElementById("vagaPlayer");

const toggleAdm = document.getElementById("toggleAdm");
const togglePlayer = document.getElementById("togglePlayer");

const user = document.getElementById("user");
const pass = document.getElementById("pass");

const aTitle = document.getElementById("aTitle");
const aText = document.getElementById("aText");
const aImg = document.getElementById("aImg");

const announcementsArea = document.getElementById("announcements");

let state = JSON.parse(localStorage.getItem("valhesiaState")) || {
    adm:true,
    player:true,
    announcements:[]
};

function save(){
    localStorage.setItem("valhesiaState", JSON.stringify(state));
}

function renderVagas(){
    vagaAdm.innerHTML = state.adm
        ? `<h3>Administra√ß√£o</h3><p>Ajude a manter Valhesia viva.</p>
           <a href="https://example.com/adm" target="_blank">Candidatar-se</a>`
        : `<h3>Administra√ß√£o</h3><p class="closed">N√£o temos vagas no momento.</p>`;

    vagaPlayer.innerHTML = state.player
        ? `<h3>Jogador</h3><p>Fa√ßa parte da hist√≥ria.</p>
           <a href="playerrec.html" target="_blank">Candidatar-se</a>`
        : `<h3>Jogador</h3><p class="closed">N√£o temos vagas no momento.</p>`;
}

function renderAnnouncements(){
    announcementsArea.innerHTML = "";
    state.announcements.forEach((a,index)=>{
        announcementsArea.innerHTML += `
        <div class="announcement">
            ${isAdmin ? `<button class="delete-btn" onclick="deleteAnnouncement(${index})">üóëÔ∏è</button>` : ""}
            <h3>${a.title}</h3>
            <p>${a.text}</p>
            ${a.img ? `<img src="${a.img}">` : ""}
        </div>`;
    });

    if(isAdmin){
        document.querySelectorAll(".delete-btn").forEach(b=>b.style.display="block");
    }
}

function deleteAnnouncement(index){
    if(!confirm("Apagar este an√∫ncio?")) return;
    state.announcements.splice(index,1);
    save();
    renderAnnouncements();
}

function login(){
    if(user.value === ADMIN_USER && pass.value === ADMIN_PASS){
        isAdmin = true;
        adminArea.style.display = "block";
        loginModal.style.display = "none";
        toggleAdm.checked = state.adm;
        togglePlayer.checked = state.player;
        renderAnnouncements();
    }else{
        alert("Usu√°rio ou senha inv√°lidos");
    }
}

function addAnnouncement(){
    if(!aTitle.value || !aText.value){
        alert("Preencha t√≠tulo e mensagem");
        return;
    }

    state.announcements.unshift({
        title:aTitle.value,
        text:aText.value,
        img:aImg.value
    });

    save();
    renderAnnouncements();

    aTitle.value="";
    aText.value="";
    aImg.value="";
}

toggleAdm.onchange = ()=>{
    state.adm = toggleAdm.checked;
    save();
    renderVagas();
};

togglePlayer.onchange = ()=>{
    state.player = togglePlayer.checked;
    save();
    renderVagas();
};

loginBtn.onclick = ()=> loginModal.style.display="flex";

renderVagas();
renderAnnouncements();
</script>

</body>
</html>
